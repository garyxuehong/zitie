{"version":3,"sources":["App.js","index.js"],"names":["CH_PAD","dangerouslySetInnerHTML","__html","sample","App","useState","text","updateText","prepareData","data","updateData","t","trim","split","map","line","arChars","topad","length","i","push","pad","ch","py","onTextChange","e","newText","target","value","newData","forEach","c","a","convertData","className","rows","cols","onInput","onChange","l","Line","key","Cell","AppContainer","React","Component","ReactDOM","render","StrictMode","document","body"],"mappings":"gSAMA,IAEMA,EAAS,0BAAMC,wBAAyB,CAAEC,OAAQ,YAElDC,EAAM,oNAcZ,SAASC,IAAO,IAAD,EACYC,mBAASF,GADrB,mBACRG,EADQ,KACFC,EADE,OAEYF,mBAASG,EAAYL,IAFjC,mBAERM,EAFQ,KAEFC,EAFE,KAGb,SAASF,EAAYG,GASnB,OARaA,EACVC,OACAC,MAAM,MACNC,KAAI,SAACC,GACJ,OAgDR,SAAaC,GAEX,IADA,IAAMC,EA3EW,EA2EUD,EAAQE,OAC1BC,EAAI,EAAGA,EAAIF,EAAOE,IACzBH,EAAQI,KAAKpB,GAEf,OAAOgB,EArDMK,CAAIN,EAAKF,MAAM,KAAKC,KAAI,SAACQ,GAC9B,MAAO,CAAEA,KAAIC,GAAI,UAczB,SAASC,EAAaC,GACpB,IAAMC,EAAUD,EAAEE,OAAOC,MACzBrB,EAAWmB,GAXb,SAAqBf,GACnB,IAAMkB,EAAUrB,EAAYG,GAC5BkB,EAAQC,SAAQ,SAAAf,GACdA,EAAKe,QAAL,uCAAa,WAAMC,GAAN,SAAAC,EAAA,sEACWD,EAAET,GAvCvB,GAsCU,OACXS,EAAER,GADS,kDAAb,0DAIFb,EAAWmB,GAKXI,CAAYP,GAEd,OACE,oCACE,yBAAKQ,UAAU,UACb,8BACEC,KAAK,KACLC,KAAK,KACLR,MAAOtB,EACP+B,QAASb,EACTc,SAAUd,KAGd,yBAAKU,UAAU,WACZzB,EAAKK,KAAI,SAACyB,EAAGpB,GAAJ,OAAU,kBAACqB,EAAD,CAAMC,IAAKtB,EAAGJ,KAAMwB,SAMhD,SAASC,EAAT,GAAyB,IAATzB,EAAQ,EAARA,KACd,OACE,yBAAKmB,UAAU,QACZnB,EAAKD,KAAI,SAACiB,EAAGZ,GAAJ,OACR,kBAACuB,EAAD,CAAMD,IAAKtB,EAAGY,EAAGA,QAczB,SAASW,EAAT,GAAsB,IAANX,EAAK,EAALA,EACd,OACE,yBAAKG,UAAU,QACb,yBAAKA,UAAU,UACf,yBAAKA,UAAU,SAASH,EAAER,IAC1B,yBAAKW,UAAU,UACf,yBAAKA,UAAU,aACb,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,iBACdH,EAAET,KAMIqB,M,uKAnFX,OAAO,kBAAC,EAAD,U,GAFgBC,IAAMC,WCbjCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,Q","file":"static/js/main.e842234c.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nfunction toPinYin(ch) {\n  return \"\";\n}\n\nconst CELL_COUNT = 8;\n\nconst CH_PAD = <span dangerouslySetInnerHTML={{ __html: \"&nbsp;\" }} />;\n\nconst sample = `《咏鹅》\n唐·骆宾王\n鹅，鹅，鹅，\n曲项向天歌。\n白毛浮绿水，\n红掌拨清波。 \n`;\n\nclass AppContainer extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nfunction App() {\n  let [text, updateText] = useState(sample);\n  let [data, updateData] = useState(prepareData(sample));\n  function prepareData(t) {\n    const data = t\n      .trim()\n      .split(\"\\n\")\n      .map((line) => {\n        return pad(line.split(\"\")).map((ch) => {\n          return { ch, py: \"\" };\n        });\n      });\n    return data;\n  }\n  function convertData(t) {\n    const newData = prepareData(t);\n    newData.forEach(line=>{\n      line.forEach(async c=>{\n        c.py = await toPinYin(c.ch);\n      });\n    });\n    updateData(newData);\n  }\n  function onTextChange(e) {\n    const newText = e.target.value;\n    updateText(newText);\n    convertData(newText);\n  }\n  return (\n    <>\n      <div className=\"source\">\n        <textarea\n          rows=\"20\"\n          cols=\"10\"\n          value={text}\n          onInput={onTextChange}\n          onChange={onTextChange}\n        />\n      </div>\n      <div className=\"preview\">\n        {data.map((l, i) => <Line key={i} line={l} />)}\n      </div>\n    </>\n  );\n}\n\nfunction Line({ line }) {\n  return (\n    <div className=\"line\">\n      {line.map((c, i) => (\n        <Cell key={i} c={c} />\n      ))}\n    </div>\n  );\n}\n\nfunction pad(arChars) {\n  const topad = CELL_COUNT - arChars.length;\n  for (let i = 0; i < topad; i++) {\n    arChars.push(CH_PAD);\n  }\n  return arChars;\n}\n\nfunction Cell({ c }) {\n  return (\n    <div className=\"cell\">\n      <div className=\"dline\" />\n      <div className=\"dline\">{c.py}</div>\n      <div className=\"dline\" />\n      <div className=\"cellInner\">\n        <div className=\"cellHorizontal\" />\n        <div className=\"cellVertical\" />\n        {c.ch}\n      </div>\n    </div>\n  );\n}\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContainer />\n  </React.StrictMode>,\n  document.body\n);\n"],"sourceRoot":""}