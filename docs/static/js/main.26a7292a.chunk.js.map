{"version":3,"sources":["App.js","index.js"],"names":["console","log","pinyin","CH_PAD","dangerouslySetInnerHTML","__html","sample","tryPinyin","ch","py","e","prepareData","t","trim","split","map","line","arChars","topad","length","i","push","pad","App","useState","text","updateText","data","updateData","ref","useRef","onTextChange","newText","current","value","className","rows","cols","onInput","onChange","onClick","l","Line","key","c","Cell","AppContainer","React","Component","ReactDOM","render","StrictMode","document","body"],"mappings":"uPAIAA,QAAQC,IAAIC,IAAO,WAEnB,IAEMC,EAAS,0BAAMC,wBAAyB,CAAEC,OAAQ,YAElDC,EAAM,oNAcZ,SAASC,EAAUC,GACjB,IACE,IAAMC,EAAMP,IAAOM,GACnB,OAAOC,IAAOD,EAAK,GAAKC,EACxB,MAAOC,GACP,MAAO,IAIX,SAASC,EAAYC,GASnB,OARaA,EACVC,OACAC,MAAM,MACNC,KAAI,SAACC,GACJ,OAgDN,SAAaC,GAEX,IADA,IAAMC,EAjFW,GAiFUD,EAAQE,OAC1BC,EAAI,EAAGA,EAAIF,EAAOE,IACzBH,EAAQI,KAAKlB,GAEf,OAAOc,EArDIK,CAAIN,EAAKF,MAAM,KAAKC,KAAI,SAACP,GAC9B,MAAO,CAAEA,KAAIC,GAAIF,EAAUC,UAMnC,SAASe,IAAO,IAAD,EACYC,mBAASlB,GADrB,mBACRmB,EADQ,KACFC,EADE,OAEYF,mBAASb,EAAYL,IAFjC,mBAERqB,EAFQ,KAEFC,EAFE,KAGTC,EAAMC,mBACV,SAASC,IACP,IAAMC,EAAUH,EAAII,QAAQC,MAC5BR,EAAWM,GACXJ,EAAWjB,EAAYc,IAEzB,OACE,oCACE,yBAAKU,UAAU,UACb,8BACEN,IAAKA,EACLO,KAAK,KACLC,KAAK,KACLH,MAAOT,EACPa,QAASP,EACTQ,SAAUR,IAEZ,4BAAQS,QAAST,GAAjB,YAEF,yBAAKI,UAAU,QACZR,EAAKZ,KAAI,SAAC0B,EAAGrB,GAAJ,OACR,kBAACsB,EAAD,CAAMC,IAAKvB,EAAGJ,KAAMyB,SAO9B,SAASC,EAAT,GAAyB,IAAT1B,EAAQ,EAARA,KACd,OACE,yBAAKmB,UAAU,QACZnB,EAAKD,KAAI,SAAC6B,EAAGxB,GAAJ,OACR,kBAACyB,EAAD,CAAMF,IAAKvB,EAAGwB,EAAGA,QAczB,SAASC,EAAT,GAAsB,IAAND,EAAK,EAALA,EACd,OACE,yBAAKT,UAAU,QACb,yBAAKA,UAAU,UACf,yBAAKA,UAAU,iBAAiBS,EAAEnC,IAClC,yBAAK0B,UAAU,UACf,yBAAKA,UAAU,aACb,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,iBACdS,EAAEpC,KAMIsC,M,uKAzFX,OAAO,kBAAC,EAAD,U,GAFgBC,IAAMC,WCbjCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,O","file":"static/js/main.26a7292a.chunk.js","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport \"./App.css\";\nimport pinyin from \"chinese-to-pinyin\";\n\nconsole.log(pinyin(\"我\"));\n\nconst CELL_COUNT = 10;\n\nconst CH_PAD = <span dangerouslySetInnerHTML={{ __html: \"&nbsp;\" }} />;\n\nconst sample = `《咏鹅》\n唐·骆宾王\n鹅，鹅，鹅，\n曲项向天歌。\n白毛浮绿水，\n红掌拨清波。 \n`;\n\nclass AppContainer extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nfunction tryPinyin(ch) {\n  try {\n    const py =  pinyin(ch);\n    return py === ch ? \"\" : py;\n  } catch (e) {\n    return \"\";\n  }\n}\n\nfunction prepareData(t) {\n  const data = t\n    .trim()\n    .split(\"\\n\")\n    .map((line) => {\n      return pad(line.split(\"\")).map((ch) => {\n        return { ch, py: tryPinyin(ch) };\n      });\n    });\n  return data;\n}\n\nfunction App() {\n  let [text, updateText] = useState(sample);\n  let [data, updateData] = useState(prepareData(sample));\n  let ref = useRef();\n  function onTextChange() {\n    const newText = ref.current.value;\n    updateText(newText);\n    updateData(prepareData(text));\n  }\n  return (\n    <>\n      <div className=\"source\">\n        <textarea\n          ref={ref}\n          rows=\"20\"\n          cols=\"20\"\n          value={text}\n          onInput={onTextChange}\n          onChange={onTextChange}\n        />\n        <button onClick={onTextChange}>preview</button>\n      </div>\n      <div className=\"page\">\n        {data.map((l, i) => (\n          <Line key={i} line={l} />\n        ))}\n      </div>\n    </>\n  );\n}\n\nfunction Line({ line }) {\n  return (\n    <div className=\"line\">\n      {line.map((c, i) => (\n        <Cell key={i} c={c} />\n      ))}\n    </div>\n  );\n}\n\nfunction pad(arChars) {\n  const topad = CELL_COUNT - arChars.length;\n  for (let i = 0; i < topad; i++) {\n    arChars.push(CH_PAD);\n  }\n  return arChars;\n}\n\nfunction Cell({ c }) {\n  return (\n    <div className=\"cell\">\n      <div className=\"dline\" />\n      <div className=\"dline dlinepy\">{c.py}</div>\n      <div className=\"dline\" />\n      <div className=\"cellInner\">\n        <div className=\"cellHorizontal\" />\n        <div className=\"cellVertical\" />\n        {c.ch}\n      </div>\n    </div>\n  );\n}\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContainer />\n  </React.StrictMode>,\n  document.body\n);\n"],"sourceRoot":""}