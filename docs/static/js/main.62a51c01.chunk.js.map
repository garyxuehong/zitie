{"version":3,"sources":["App.js","index.js"],"names":["console","log","pinyin","CH_PAD","dangerouslySetInnerHTML","__html","sample","tryPinyin","ch","e","prepareData","t","trim","split","map","line","arChars","topad","length","i","push","pad","py","App","useState","text","updateText","data","updateData","onTextChange","newText","target","value","className","rows","cols","onInput","onChange","l","Line","key","c","Cell","AppContainer","React","Component","ReactDOM","render","StrictMode","document","body"],"mappings":"uPAIAA,QAAQC,IAAIC,IAAO,WAEnB,IAEMC,EAAS,0BAAMC,wBAAyB,CAAEC,OAAQ,YAElDC,EAAM,oNAcZ,SAASC,EAAUC,GACjB,IACE,OAAON,IAAOM,GACd,MAAOC,GACP,MAAO,IAIX,SAASC,EAAYC,GASnB,OARaA,EACVC,OACAC,MAAM,MACNC,KAAI,SAACC,GACJ,OA6CN,SAAaC,GAEX,IADA,IAAMC,EA7EW,EA6EUD,EAAQE,OAC1BC,EAAI,EAAGA,EAAIF,EAAOE,IACzBH,EAAQI,KAAKjB,GAEf,OAAOa,EAlDIK,CAAIN,EAAKF,MAAM,KAAKC,KAAI,SAACN,GAC9B,MAAO,CAAEA,KAAIc,GAAIf,EAAUC,UAMnC,SAASe,IAAO,IAAD,EACYC,mBAASlB,GADrB,mBACRmB,EADQ,KACFC,EADE,OAEYF,mBAASd,EAAYJ,IAFjC,mBAERqB,EAFQ,KAEFC,EAFE,KAGb,SAASC,EAAapB,GACpB,IAAMqB,EAAUrB,EAAEsB,OAAOC,MACzBN,EAAWI,GACXF,EAAWlB,EAAYe,IAEzB,OACE,oCACE,yBAAKQ,UAAU,UACb,8BACEC,KAAK,KACLC,KAAK,KACLH,MAAOP,EACPW,QAASP,EACTQ,SAAUR,KAGd,yBAAKI,UAAU,WACZN,EAAKb,KAAI,SAACwB,EAAGnB,GAAJ,OACR,kBAACoB,EAAD,CAAMC,IAAKrB,EAAGJ,KAAMuB,SAO9B,SAASC,EAAT,GAAyB,IAATxB,EAAQ,EAARA,KACd,OACE,yBAAKkB,UAAU,QACZlB,EAAKD,KAAI,SAAC2B,EAAGtB,GAAJ,OACR,kBAACuB,EAAD,CAAMF,IAAKrB,EAAGsB,EAAGA,QAczB,SAASC,EAAT,GAAsB,IAAND,EAAK,EAALA,EACd,OACE,yBAAKR,UAAU,QACb,yBAAKA,UAAU,UACf,yBAAKA,UAAU,iBAAiBQ,EAAEnB,IAClC,yBAAKW,UAAU,UACf,yBAAKA,UAAU,aACb,yBAAKA,UAAU,mBACf,yBAAKA,UAAU,iBACdQ,EAAEjC,KAMImC,M,uKArFX,OAAO,kBAAC,EAAD,U,GAFgBC,IAAMC,WCbjCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,O","file":"static/js/main.62a51c01.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nimport pinyin from \"chinese-to-pinyin\";\n\nconsole.log(pinyin(\"我\"));\n\nconst CELL_COUNT = 8;\n\nconst CH_PAD = <span dangerouslySetInnerHTML={{ __html: \"&nbsp;\" }} />;\n\nconst sample = `《咏鹅》\n唐·骆宾王\n鹅，鹅，鹅，\n曲项向天歌。\n白毛浮绿水，\n红掌拨清波。 \n`;\n\nclass AppContainer extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nfunction tryPinyin(ch) {\n  try {\n    return pinyin(ch);\n  } catch (e) {\n    return \"\";\n  }\n}\n\nfunction prepareData(t) {\n  const data = t\n    .trim()\n    .split(\"\\n\")\n    .map((line) => {\n      return pad(line.split(\"\")).map((ch) => {\n        return { ch, py: tryPinyin(ch) };\n      });\n    });\n  return data;\n}\n\nfunction App() {\n  let [text, updateText] = useState(sample);\n  let [data, updateData] = useState(prepareData(sample));\n  function onTextChange(e) {\n    const newText = e.target.value;\n    updateText(newText);\n    updateData(prepareData(text));\n  }\n  return (\n    <>\n      <div className=\"source\">\n        <textarea\n          rows=\"20\"\n          cols=\"10\"\n          value={text}\n          onInput={onTextChange}\n          onChange={onTextChange}\n        />\n      </div>\n      <div className=\"preview\">\n        {data.map((l, i) => (\n          <Line key={i} line={l} />\n        ))}\n      </div>\n    </>\n  );\n}\n\nfunction Line({ line }) {\n  return (\n    <div className=\"line\">\n      {line.map((c, i) => (\n        <Cell key={i} c={c} />\n      ))}\n    </div>\n  );\n}\n\nfunction pad(arChars) {\n  const topad = CELL_COUNT - arChars.length;\n  for (let i = 0; i < topad; i++) {\n    arChars.push(CH_PAD);\n  }\n  return arChars;\n}\n\nfunction Cell({ c }) {\n  return (\n    <div className=\"cell\">\n      <div className=\"dline\" />\n      <div className=\"dline dlinepy\">{c.py}</div>\n      <div className=\"dline\" />\n      <div className=\"cellInner\">\n        <div className=\"cellHorizontal\" />\n        <div className=\"cellVertical\" />\n        {c.ch}\n      </div>\n    </div>\n  );\n}\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppContainer from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContainer />\n  </React.StrictMode>,\n  document.body\n);\n"],"sourceRoot":""}